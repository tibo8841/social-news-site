[{"/Users/tibo/Documents/Coursework-Backend-Week2/socialnews/frontend/src/index.js":"1","/Users/tibo/Documents/Coursework-Backend-Week2/socialnews/frontend/src/App.js":"2","/Users/tibo/Documents/Coursework-Backend-Week2/socialnews/frontend/src/Story.js":"3","/Users/tibo/Documents/Coursework-Backend-Week2/socialnews/frontend/src/AddNewsStory.js":"4","/Users/tibo/Documents/social-news-site/frontend/src/index.js":"5","/Users/tibo/Documents/social-news-site/frontend/src/App.js":"6","/Users/tibo/Documents/social-news-site/frontend/src/Story.js":"7","/Users/tibo/Documents/social-news-site/frontend/src/AddNewsStory.js":"8"},{"size":214,"mtime":1652094562232,"results":"9","hashOfConfig":"10"},{"size":1809,"mtime":1652279256223,"results":"11","hashOfConfig":"10"},{"size":844,"mtime":1652455918448,"results":"12","hashOfConfig":"10"},{"size":1655,"mtime":1652364649696,"results":"13","hashOfConfig":"10"},{"size":214,"mtime":1652094562232,"results":"14","hashOfConfig":"15"},{"size":1867,"mtime":1669913657485,"results":"16","hashOfConfig":"15"},{"size":844,"mtime":1652720067315,"results":"17","hashOfConfig":"15"},{"size":1597,"mtime":1669913311022,"results":"18","hashOfConfig":"15"},{"filePath":"19","messages":"20","suppressedMessages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"u25s3v",{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"26"},{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1yjuuc5",{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/tibo/Documents/Coursework-Backend-Week2/socialnews/frontend/src/index.js",[],[],"/Users/tibo/Documents/Coursework-Backend-Week2/socialnews/frontend/src/App.js",["45"],[],"import './App.css'\nimport React, { useEffect, useState } from 'react'\nimport Story from './Story'\nimport AddNewsStory from './AddNewsStory'\n\nfunction App(props) {\n  const [stories, setStories] = useState([])\n  const [loading, setLoading] = useState(false)\n\n  useEffect(async () => {\n    await fetchData()\n  }, [])\n\n  async function fetchData() {\n    // setLoading(true)\n    let response = await fetch('http://localhost:8080/stories')\n    let json = await response.json()\n    setLoading(false)\n    setStories(json)\n  }\n\n  async function postVote(direction, id) {\n    let directionData = { direction: direction }\n\n    await fetch(`http://localhost:8080/stories/${id}/votes`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(directionData)\n    })\n    fetchData()\n  }\n\n  async function deleteStory(id) {\n    await fetch(`http://localhost:8080/stories/${id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n    fetchData()\n  }\n\n  function getStoriesComponentList(stories) {\n    if (stories.length > 0) {\n      return stories.map((story) => (\n        <Story\n          key={story.title}\n          story={story}\n          id={story.id}\n          postVote={postVote}\n          deleteStory={deleteStory}\n        />\n      ))\n    } else {\n      return <p>no stories yet</p>\n    }\n  }\n\n  function getLoadingComponent() {\n    return <div className=\"loader\" />\n  }\n\n  return (\n    <div className=\"App\">\n      <header>\n        <h1>Very Good™️ Social News Site</h1>\n      </header>\n      <main>\n        <h2>Top Stories</h2>\n        {loading ? getLoadingComponent() : getStoriesComponentList(stories)}\n      </main>\n      <AddNewsStory fetchData={fetchData} />\n    </div>\n  )\n}\n\nexport default App\n",[],"/Users/tibo/Documents/Coursework-Backend-Week2/socialnews/frontend/src/Story.js",[],[],"/Users/tibo/Documents/Coursework-Backend-Week2/socialnews/frontend/src/AddNewsStory.js",[],[],"/Users/tibo/Documents/social-news-site/frontend/src/index.js",[],[],"/Users/tibo/Documents/social-news-site/frontend/src/App.js",[],[],"/Users/tibo/Documents/social-news-site/frontend/src/Story.js",[],[],"/Users/tibo/Documents/social-news-site/frontend/src/AddNewsStory.js",[],[],{"ruleId":"46","severity":1,"message":"47","line":10,"column":13,"nodeType":"48","endLine":12,"endColumn":4},"react-hooks/exhaustive-deps","Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","ArrowFunctionExpression"]